<!-- Breadcrumbs Start -->
<app-breadcrumbs title="Update Categories"></app-breadcrumbs>
<!-- Breadcrumbs End -->

<div class="tcd-course-item sec-spacer">
    <div class="container">
        <form [formGroup]="categoriesForm" (ngSubmit)="onSubmit()">
            <div class="row mb-50">
                <div *ngFor="let category of categories;let i = index" class="col-lg-3 col-md-6">
                    <mat-card class="mb-3 mat-elevation-z0">
                        <mat-card-header>
                        </mat-card-header>
                        <mat-card-content>
                            <div>
                                <button class="category" type="button" (click)="selectCategory(i)" [ngClass]="{
                                    'selected-category' : category.flag == true, 
                                    'category': category.flag == false
                                }">
                                    <span style="font-family: sans-serif;">{{category.name}}</span>
                                </button>
                            </div>
                            <div *ngFor="let subCategory of category.subCategories;let j = index">
                                <button class="subcategory" type="button" (click)="selectSubCategory(i, j)" [ngClass]="{
                                    'selected-subcategory'      :  subCategory.flag == true || category.flag == true, 
                                    'subcategory'   :  subCategory.flag == false && category.flag == false
                                }">
                                    <span style="font-family: sans-serif;">{{subCategory.name}}</span>
                                </button>
                            </div>
                        </mat-card-content>
                        <mat-card-actions>
                        </mat-card-actions>
                    </mat-card>
                </div>
            </div>
            <div class="row mb-4">
                <div *ngIf="disableSubmit" class="col-md-12">
                    <button class="btn btn-primary mr-2 mb-2" style="float: right; width: 100px;"
                        mat-raised-button color="accent" (click)="onSubmit()" disabled>
                        Submit
                    </button>
                </div>
                <div *ngIf="!disableSubmit" class="col-md-12">
                    <button class="btn btn-primary mr-2 mb-2" style="float: right; width: 100px;"
                        mat-raised-button color="accent" (click)="onSubmit()">
                        Submit
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>